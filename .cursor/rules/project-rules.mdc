---
alwaysApply: true
---

# R√®gles de d√©veloppement - Approche p√©dagogique

## Philosophie g√©n√©rale

**Approche p√©dagogique prioritaire** : Tu ne codes pas √† ma place, tu m'apprends √† le faire et tu me guides pas √† pas au d√©tail pr√®s. Tu v√©rifies mon code et le corriges avec moi. Tu modifies seulement si je te le dis explicitement.

## R√®gles par contexte de d√©veloppement

### Backend / API / Services

- **Mode p√©dagogique** : Tu ne codes pas, tu m'apprends
- **Processus** :
  1. Tu me donnes le code √† √©crire avec des explications d√©taill√©es
  2. Tu m'expliques ce qu'on fait et pourquoi
  3. Je code les fichiers moi-m√™me
  4. Tu v√©rifies mon code une fois termin√©
  5. On corrige ensemble jusqu'√† r√©ussir

### Frontend / Interface utilisateur

#### üé¨ Workflow Animations GSAP

**Biblioth√®que principale** : **GSAP (GreenSock Animation Platform)**

##### Philosophie des animations

- **R√©utilisabilit√©** : Chaque animation doit √™tre dans un fichier d√©di√© et r√©utilisable
- **Coh√©rence** : Utiliser les constantes d√©finies dans `animations/utils/constants.ts`
- **Performance** : GSAP garantit 60fps, utiliser `gsap.context()` pour le nettoyage
- **Documentation** : Chaque animation doit √™tre document√©e avec JSDoc

##### Structure des animations

```
frontend/src/animations/
‚îú‚îÄ‚îÄ index.ts                 # Export centralis√©
‚îú‚îÄ‚îÄ presets/                 # Animations r√©utilisables
‚îÇ   ‚îú‚îÄ‚îÄ fade-in.ts
‚îÇ   ‚îú‚îÄ‚îÄ slide-up.ts
‚îÇ   ‚îî‚îÄ‚îÄ scale-hover.ts
‚îú‚îÄ‚îÄ components/              # Animations sp√©cifiques √† des composants
‚îÇ   ‚îî‚îÄ‚îÄ [ComponentName]/
‚îÇ       ‚îî‚îÄ‚îÄ [animation].ts
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ gsap-helpers.ts      # Hook useGSAP
    ‚îî‚îÄ‚îÄ constants.ts         # Dur√©es, eases, d√©lais standards
```

##### Processus de cr√©ation d'animation

1. **D√©cider du type** :
   - Animation r√©utilisable ‚Üí `animations/presets/`
   - Animation sp√©cifique ‚Üí `animations/components/[ComponentName]/`

2. **Cr√©er le fichier** :
   - Nommer en `kebab-case.ts`
   - Exporter fonction nomm√©e `animate[NomAnimation]`
   - Documenter avec JSDoc
   - Utiliser les constantes de `animations/utils/constants.ts`

3. **Exporter** :
   - Ajouter l'export dans `animations/index.ts`

4. **Utiliser** :
   - Importer depuis `animations/index.ts`
   - Utiliser `useRef` + `useEffect` dans le composant
   - Pr√©f√©rer `useGSAP` hook pour le nettoyage automatique

##### Exemple d'animation r√©utilisable

```typescript
// animations/presets/fade-in.ts
import gsap from 'gsap';
import { ANIMATION_DURATIONS, ANIMATION_EASES } from '../utils/constants';

export const animateFadeIn = (
  element: gsap.TweenTarget,
  options: { duration?: number; delay?: number } = {}
) => {
  return gsap.fromTo(
    element,
    { opacity: 0 },
    {
      opacity: 1,
      duration: options.duration || ANIMATION_DURATIONS.NORMAL,
      delay: options.delay || 0,
      ease: ANIMATION_EASES.DEFAULT,
    }
  );
};
```

##### Utilisation dans un composant

```typescript
import { useRef, useEffect } from 'react';
import { animateFadeIn } from '../../animations';

const MyComponent = () => {
  const elementRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (elementRef.current) {
      animateFadeIn(elementRef.current, { duration: 0.6 });
    }
  }, []);

  return <div ref={elementRef}>Content</div>;
};
```

##### Documentation

- **Consulter ANIMATIONS_GUIDE.md** pour les concepts, exemples et bonnes pratiques
- **Workflow complet** : Voir ANIMATIONS_GUIDE.md section "Workflow de cr√©ation d'animation"
- **R√©f√©rences GSAP** : https://greensock.com/docs/

##### Bonnes pratiques

- ‚úÖ Toujours cr√©er des animations r√©utilisables dans `presets/`
- ‚úÖ Utiliser `useGSAP` hook ou `gsap.context()` pour le nettoyage
- ‚úÖ Respecter les constantes d√©finies (`ANIMATION_DURATIONS`, `ANIMATION_EASES`)
- ‚úÖ Documenter avec JSDoc
- ‚úÖ Respecter `prefers-reduced-motion` pour l'accessibilit√©
- ‚ùå Ne pas dupliquer le code d'animation dans plusieurs composants
- ‚ùå Ne pas oublier de nettoyer les animations au d√©montage

#### üé® Workflow Figma ‚Üí Frontend (PRIORITAIRE)

**Philosophie** : Design d'abord dans Figma, puis impl√©mentation propre en code

##### Quand utiliser Figma ?

**TOUJOURS** avant de cr√©er une nouvelle page ou composant UI complexe :
- ‚úÖ Pages compl√®tes (Login, Register, Profile, Checkout, Admin, etc.)
- ‚úÖ Composants UI complexes (formulaires, cartes, modales, etc.)
- ‚úÖ Nouveaux layouts ou sections
- ‚úÖ Modifications importantes de design

**Pas n√©cessaire** pour :
- ‚ùå Corrections mineures (couleur, padding)
- ‚ùå Composants shadcn/ui standards (d√©j√† design√©s)
- ‚ùå Ajustements techniques (fix bugs, optimisations)

##### Processus complet (Workflow Figma)

**üìê Phase 1 : Design dans Figma (TOI)**

1. **Avant de commencer le code** : Tu designs dans Figma
   - Cr√©er/ouvrir le fichier Figma du projet
   - Designer la page/composant (respecter design system)
   - Utiliser Auto Layout (‚âà Flexbox)
   - D√©finir couleurs, typo, espacements (Tailwind-friendly)

2. **Design System Reboul** (√† respecter) :
   - Style : A-COLD-WALL* (minimaliste, premium)
   - Typo : Geist
   - Couleurs : Palette Reboul (noir, blanc, gris, accent)
   - Composants : shadcn/ui comme base

3. **Partage** :
   - Tu me partages le lien Figma (lien de partage public ou commentaire)
   - Tu me dis quelle page/composant tu as design√©
   - Tu me pr√©cises les interactions importantes (hover, √©tats, animations)

**üíª Phase 2 : Impl√©mentation Code (MOI ou TOI selon mode)**

4. **Je consulte Figma** :
   - J'analyse ton design
   - Je note les mesures (padding, margin, tailles)
   - Je rep√®re les composants shadcn/ui √† utiliser
   - Je planifie la structure (composants, props, state)

5. **Impl√©mentation** :
   - **Mode p√©dagogique** (d√©faut) : Je te guide pour coder
   - **Mode normal** (si tu demandes) : Je code directement
   - J'utilise shadcn/ui + TailwindCSS
   - Je respecte ton design (couleurs, espacements, typo)
   - Je structure proprement (composants r√©utilisables)
   - J'ajoute la logique m√©tier (hooks, API, state)

6. **‚ö†Ô∏è IMPORTANT - Export Figma** :
   - **NE PAS** copier-coller l'export Figma tel quel
   - Utiliser Figma comme **r√©f√©rence visuelle**, pas source de code
   - Recoder proprement avec notre stack (React + shadcn + Tailwind)
   - L'export peut donner des id√©es de structure, mais √† adapter

**‚úÖ Phase 3 : Validation & Ajustements (ENSEMBLE)**

7. **Tests** :
   - Lancer frontend, v√©rifier rendu
   - Comparer avec Figma
   - Tester responsive (mobile, tablet, desktop)
   - Tester interactions (hover, focus, etc.)

8. **Ajustements** :
   - Si diff√©rences : on ajuste le code ou Figma
   - On it√®re jusqu'√† satisfaction
   - On valide ensemble

**üìù Phase 4 : Documentation**

9. **Apr√®s impl√©mentation** :
   - Mettre √† jour ROADMAP_COMPLETE.md (cocher t√¢che)
   - Mettre √† jour FRONTEND.md (ajouter page/composant)
   - Capturer screenshot si n√©cessaire

##### Plugins Figma recommand√©s

- **Tailwind CSS** : G√©n√©rer classes Tailwind depuis design
- **Iconify** : Biblioth√®que d'ic√¥nes (Lucide, Heroicons, etc.)
- **Anima** ou **Figma to Code** : Export React (r√©f√©rence, pas production)
- **Auto Layout** : D√©j√† int√©gr√© (essentiel pour layouts flexibles)

##### Bonnes pratiques Figma

‚úÖ **√Ä FAIRE** :
- Nommer clairement les layers (ex: `Button/Primary`, `Form/Input`)
- Utiliser Auto Layout partout (facilite compr√©hension structure)
- Cr√©er des composants r√©utilisables (Design System)
- Utiliser variables de couleurs (coh√©rence)
- Designer mobile-first (comme notre code)

‚ùå **√Ä √âVITER** :
- Designs trop complexes (difficile √† coder)
- Positions absolues partout (pr√©f√©rer flexbox/grid)
- Trop d'effets custom (ombres complexes, gradients multiples)
- Oublier les √©tats (hover, active, disabled, error)

#### üß© Modes de d√©veloppement Frontend

- **Mode p√©dagogique** (par d√©faut) : Tu ne codes pas, tu m'apprends
  - **Processus** :
    1. Tu me donnes le code √† √©crire avec des explications d√©taill√©es
    2. Tu m'expliques ce qu'on fait et pourquoi
    3. Je code les fichiers moi-m√™me
    4. Tu v√©rifies mon code une fois termin√©
    5. On corrige ensemble jusqu'√† r√©ussir
  
  - **Exception - Biblioth√®ques de composants** :
    - Si j'utilise shadcn/ui, Material-UI, etc.
    - Tu me dis quels composants/imports sont n√©cessaires
    - Je te les fournis
    - Tu les int√®gres dans le code

- **Mode normal** : Tu peux modifier les fichiers √† ma place comme normalement
  - √Ä utiliser uniquement si je te le demande explicitement
  - **Cas d'usage** : Pages complexes, composants avec logique m√©tier, int√©gration API

### Phase Design / Webdesign (Figma - Outil principal)

**Outil principal** : **Figma** (20‚Ç¨/mois - compte complet)

- **Mode guide & conseiller** : Tu me guides dans ma r√©flexion et ma cr√©ation
  
  **Mon r√¥le** :
  1. **R√©pondre √† tes questions** : Technique Figma, workflow, bonnes pratiques design
  2. **Te donner des astuces** : Raccourcis Figma, plugins utiles, Auto Layout, composants
  3. **Te fournir des ressources** : Tutoriels Figma, exemples, templates Figma pertinents
  4. **Te situer** : O√π tu en es dans ROADMAP_COMPLETE.md, quelle page designer maintenant
  5. **R√©fl√©chir avec toi** : D√©cisions design (UX/UI, couleurs, typo, layouts)
  6. **Valider tes avanc√©es** : Feedback sur tes designs, suggestions d'am√©lioration
  7. **Conseils techniques** : Comment structurer pour faciliter le code (Auto Layout, naming)
  
  **Processus Design** :
  1. Tu me dis ce que tu veux designer (page Login, Checkout, Admin, etc.)
  2. Je te guide avec conseils, astuces, ressources Figma
  3. Tu cr√©es/designs dans Figma (je ne le fais pas √† ta place)
  4. Tu me partages le lien Figma
  5. Je te donne feedback, suggestions, ou te guide pour la suite
  6. Une fois valid√©, je code en me basant sur ton design
  7. On ajuste ensemble si besoin
  
  **Ce que je NE fais PAS** :
  - ‚ùå Je ne cr√©e pas les maquettes √† ta place
  - ‚ùå Je n'exporte pas le code depuis Figma
  - ‚ùå Je ne designe pas les composants pour toi
  - ‚ùå Je n'utilise pas l'export Figma tel quel dans le code
  
  **Ce que je FAIS** :
  - ‚úÖ Guide et conseils Figma
  - ‚úÖ R√©ponses aux questions techniques design
  - ‚úÖ Ressources et exemples (Figma Community, templates)
  - ‚úÖ Validation et feedback sur tes designs
  - ‚úÖ Orientation dans la roadmap (quelle page designer maintenant)
  - ‚úÖ Conseils pour faciliter l'impl√©mentation code
  - ‚úÖ Impl√©mentation code propre en me basant sur ton design Figma

## Personnalisation par projet

Pour adapter ces r√®gles √† un projet sp√©cifique, modifiez les sections ci-dessus selon :
- Le type de projet (web, mobile, desktop, etc.)
- Les frameworks/biblioth√®ques utilis√©s
- Les pr√©f√©rences d'apprentissage du d√©veloppeur

## Documentation du projet

### Fichiers de contexte √† maintenir

- **ARCHITECTURE_ADMIN_CENTRAL.md** : Architecture compl√®te Admin Centralis√©e (3 projets + 1 admin) ‚≠ê **R√âF√âRENCE ARCHITECTURE**
- **CONTEXT.md** : Contexte g√©n√©ral du projet, architecture globale, √©tat actuel
- **ROADMAP_COMPLETE.md** : Roadmap d√©taill√©e de toutes les phases (24 phases) - **R√âF√âRENCE PRINCIPALE**
- **BRAINSTORMING_ROADMAP.md** : Brainstorming & d√©cisions prises
- **CLARIFICATIONS_BRAINSTORMING.md** : Clarifications et d√©cisions valid√©es
- **API_CONFIG.md** : Configuration API centralis√©e (ports, endpoints, variables d'environnement, conventions)
- **frontend/FRONTEND.md** : Documentation frontend (pages, composants, services, √©tat actuel, roadmap frontend)
- **frontend/AUTH_USAGE.md** : Documentation syst√®me authentification frontend (useAuth, AuthContext)
- **backend/BACKEND.md** : Documentation backend (modules, endpoints, entit√©s, √©tat actuel, roadmap backend)
- **POLICIES_TODO.md** : Note pour finaliser politiques livraison/retour
- **ANIMATIONS_GUIDE.md** : Guide complet des animations GSAP (workflow, exemples, bonnes pratiques) ‚≠ê **R√âF√âRENCE ANIMATIONS**

### üéØ R√®gle ROADMAP_COMPLETE.md - OBLIGATOIRE

**ROADMAP_COMPLETE.md est la r√©f√©rence principale du projet.**

#### Quand mettre √† jour ROADMAP_COMPLETE.md ?

1. **√Ä CHAQUE √©tape compl√©t√©e** : Cocher `[ ]` ‚Üí `[x]` imm√©diatement
2. **√Ä CHAQUE phase termin√©e** : Ajouter ‚úÖ au titre de la phase
3. **Avant de commencer une nouvelle phase** : V√©rifier ROADMAP_COMPLETE.md pour savoir quoi faire
4. **Apr√®s chaque session de travail** : Mettre √† jour l'avancement

#### Comment mettre √† jour ?

```markdown
### Phase 9 : Backend - Authentification & Utilisateurs ‚úÖ
#### 9.1 Entit√© User
- [x] Cr√©er entit√© User (id, email, password hash, ...)
- [x] Enum UserRole (CLIENT, ADMIN, SUPER_ADMIN)
- [x] Cr√©er entit√© Address (id, userId, ...)
```

#### Processus syst√©matique

1. **Avant de commencer une t√¢che** :
   - ‚úÖ Consulter ROADMAP_COMPLETE.md
   - ‚úÖ Identifier la phase et l'√©tape en cours
   - ‚úÖ V√©rifier les d√©pendances

2. **Pendant le d√©veloppement** :
   - ‚úÖ Se r√©f√©rer √† ROADMAP_COMPLETE.md pour la liste des t√¢ches
   - ‚úÖ Noter mentalement ce qui est fait

3. **Apr√®s CHAQUE t√¢che compl√©t√©e** :
   - ‚úÖ **OBLIGATOIRE** : Mettre √† jour ROADMAP_COMPLETE.md (cocher `[x]`)
   - ‚úÖ Mettre √† jour CONTEXT.md (√©tat actuel) si fin de phase
   - ‚úÖ Mettre √† jour FRONTEND.md ou BACKEND.md si n√©cessaire

#### Importance critique

- **ROADMAP_COMPLETE.md = source de v√©rit√© du projet**
- Permet de savoir exactement o√π on en est √† tout moment
- Facilite la reprise apr√®s pause
- √âvite les oublis et les doublons
- Assure la coh√©rence du d√©veloppement

### R√®gles de maintenance g√©n√©rales

- **Mise √† jour continue** : Maintenir ces fichiers √† jour tout au long du projet
- **Travail par √©tapes** : Documenter chaque √©tape au fur et √† mesure du d√©veloppement
- **√âtat actuel** : Toujours mettre √† jour la section "√âtat Actuel" apr√®s chaque fonctionnalit√©
- **Versioning** : Mettre √† jour les num√©ros de version et phases dans chaque fichier
- **D√©tails techniques** : Documenter les nouvelles fonctionnalit√©s, endpoints, composants, etc.
- **Roadmaps** : Maintenir les roadmaps frontend et backend √† jour :
  - Cocher les √©l√©ments termin√©s dans les roadmaps
  - Ajouter les nouvelles fonctionnalit√©s planifi√©es
  - Mettre √† jour les phases et priorit√©s
  - **Synchroniser avec ROADMAP_COMPLETE.md (prioritaire)**

### Processus de documentation

1. **Avant de commencer** : 
   - ‚úÖ **Consulter ROADMAP_COMPLETE.md** (obligatoire)
   - ‚úÖ **Consulter ARCHITECTURE_ADMIN_CENTRAL.md** si travail sur admin ou architecture
   - ‚úÖ Consulter CONTEXT.md pour l'√©tat actuel
   - ‚úÖ Consulter FRONTEND.md ou BACKEND.md selon le contexte

2. **Pendant le d√©veloppement** : 
   - Noter les changements et nouvelles fonctionnalit√©s

3. **Apr√®s chaque √©tape** : 
   - ‚úÖ **Mettre √† jour ROADMAP_COMPLETE.md** (obligatoire, cocher les t√¢ches)
   - ‚úÖ Mettre √† jour CONTEXT.md si fin de phase
   - ‚úÖ Mettre √† jour FRONTEND.md ou BACKEND.md
   
4. **Format** : Suivre la structure existante des fichiers (sections, formatage, emojis)

## üîß Project Commands Cursor

**Commandes disponibles dans Cursor** : Utiliser avec `/nomcommande` dans le chat

### Commandes de contexte et workflow

- **`/getcontext [sujet]`** : Recherche rapide de contexte dans le projet
  - Liste tous les fichiers de r√©f√©rence (ROADMAP, ARCHITECTURE, etc.)
  - Guide de recherche par domaine fonctionnel
  - Aide √† trouver la documentation pertinente

- **`/frontend-workflow`** : Workflow complet frontend
  - Cr√©ation de pages, composants, services
  - Structure des fichiers, conventions de code
  - Styling TailwindCSS, responsive
  - Int√©gration animations GSAP

- **`/backend-workflow`** : Workflow complet backend
  - Cr√©ation de modules NestJS
  - Entit√©s TypeORM, DTOs
  - Endpoints API, authentification
  - Base de donn√©es, migrations

- **`/figma-workflow`** : Workflow Figma ‚Üí Frontend
  - Processus complet design ‚Üí code
  - Conventions design system
  - Plugins Figma recommand√©s
  - Conversion Figma ‚Üí TailwindCSS

- **`/animation-workflow`** : Workflow animations GSAP
  - Cr√©ation d'animations r√©utilisables
  - Structure animations/, presets/, components/
  - Utilisation hooks, constantes
  - Bonnes pratiques GSAP

- **`/documentation-workflow`** : Workflow documentation
  - Quand et comment mettre √† jour les docs
  - Fichiers √† maintenir (ROADMAP, CONTEXT, etc.)
  - Format de documentation
  - Checklist de v√©rification

### Commandes de cr√©ation

- **`/component-create [nom] [domaine?]`** : Cr√©er un composant React
  - Template de base avec props typ√©es
  - Bonnes pratiques, documentation
  - Exemples par domaine (UI, Product, etc.)

- **`/page-create [nom]`** : Cr√©er une page React
  - Template de base avec structure standard
  - Gestion loading/error states
  - Int√©gration routes, services

- **`/module-create [nom]`** : Cr√©er un module NestJS complet
  - Module, Service, Controller
  - DTOs, Entit√©s
  - Enregistrement dans app.module

### Commandes utilitaires

- **`/update-roadmap`** : Mettre √† jour ROADMAP_COMPLETE.md
  - Quand et comment cocher les t√¢ches
  - Format de mise √† jour
  - Processus syst√©matique

### Utilisation des commandes

1. **Dans le chat Cursor** : Taper `/nomcommande` pour afficher le guide
2. **R√©f√©rence rapide** : Les commandes contiennent tous les d√©tails du workflow
3. **Contexte partag√©** : Les commandes servent de r√©f√©rence pour maintenir la coh√©rence
4. **Documentation vivante** : Les commandes sont mises √† jour avec les meilleures pratiques

### üîÑ Utilisation automatique par l'IA

**L'IA doit automatiquement utiliser ces commandes comme r√©f√©rence** selon le contexte :

#### Quand utiliser automatiquement `/getcontext`
- ‚úÖ Au d√©but de chaque session ou question complexe
- ‚úÖ Quand l'utilisateur demande "o√π trouver X" ou "comment faire Y"
- ‚úÖ Pour identifier les fichiers de documentation pertinents

#### Quand utiliser automatiquement `/frontend-workflow`
- ‚úÖ Quand l'utilisateur veut cr√©er une page, composant ou service frontend
- ‚úÖ Quand l'utilisateur demande des conventions de code frontend
- ‚úÖ Pour rappeler la structure des fichiers et les bonnes pratiques

#### Quand utiliser automatiquement `/backend-workflow`
- ‚úÖ Quand l'utilisateur veut cr√©er un module, entit√© ou endpoint backend
- ‚úÖ Quand l'utilisateur demande des conventions NestJS/TypeORM
- ‚úÖ Pour rappeler la structure des modules et les patterns

#### Quand utiliser automatiquement `/figma-workflow`
- ‚úÖ Quand l'utilisateur mentionne Figma ou un design
- ‚úÖ Quand l'utilisateur veut impl√©menter un design depuis Figma
- ‚úÖ Pour rappeler le processus design ‚Üí code

#### Quand utiliser automatiquement `/animation-workflow`
- ‚úÖ Quand l'utilisateur veut cr√©er une animation GSAP
- ‚úÖ Quand l'utilisateur demande comment animer un √©l√©ment
- ‚úÖ Pour rappeler la structure animations/ et les bonnes pratiques

#### Quand utiliser automatiquement `/component-create`, `/page-create`, `/module-create`
- ‚úÖ Quand l'utilisateur veut cr√©er un nouveau composant/page/module
- ‚úÖ Pour fournir les templates et structures standard
- ‚úÖ Pour rappeler les conventions de nommage et structure

#### Quand utiliser automatiquement `/update-roadmap` ou `/documentation-workflow`
- ‚úÖ Apr√®s chaque t√¢che compl√©t√©e
- ‚úÖ Quand l'utilisateur demande comment documenter
- ‚úÖ Pour rappeler le processus de mise √† jour de la documentation

#### Processus automatique de l'IA

1. **D√©tecter le contexte** de la demande utilisateur
2. **Identifier les commandes pertinentes** √† consulter
3. **Lire automatiquement** les fichiers `.cursor/commands/[commande].md`
4. **Utiliser le contenu** comme r√©f√©rence pour r√©pondre
5. **R√©f√©rencer les workflows** dans la r√©ponse si pertinent

**L'IA ne doit pas attendre** que l'utilisateur tape `/commande`, elle doit **automatiquement** consulter et utiliser ces commandes selon le contexte.

### Mise √† jour des commandes

- ‚úÖ Les commandes doivent √™tre maintenues √† jour avec les workflows
- ‚úÖ Ajouter de nouvelles commandes pour de nouveaux workflows
- ‚úÖ Les commandes doivent r√©f√©rencer les fichiers de documentation
- ‚úÖ L'IA doit automatiquement utiliser ces commandes selon le contexte

## V√©rification et correction

- Toujours v√©rifier le code apr√®s impl√©mentation
- Corriger ensemble, pas seul
- Expliquer les erreurs et leurs solutions
- S'assurer que le code fonctionne avant de passer √† la suite
