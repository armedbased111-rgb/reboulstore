import * as anime from 'animejs';
import { toMilliseconds, convertEasing, ANIMATION_DURATIONS, ANIMATION_EASES } from '../utils/constants';

/**
 * Options pour l'animation {{ animation_name }}
 */
export interface {{ AnimationName }}Options {
  /** Durée de l'animation en secondes (défaut: ANIMATION_DURATIONS.NORMAL) */
  duration?: number;
  /** Délai avant le début de l'animation en secondes (défaut: 0) */
  delay?: number;
  /** Type d'easing (défaut: ANIMATION_EASES.DEFAULT) */
  ease?: string;
}

/**
 * Animation {{ animation_name }} réutilisable
 * 
 * {{ description }}
 * 
 * @param element - Élément DOM, ref React, ou sélecteur CSS
 * @param options - Options d'animation
 * @returns Instance d'animation AnimeJS (ou null si élément invalide)
 * 
 * @example
 * // Utilisation basique
 * animate{{ AnimationName }}(elementRef.current);
 * 
 * @example
 * // Avec options personnalisées
 * animate{{ AnimationName }}(elementRef.current, {
 *   duration: 0.8,
 *   delay: 0.2,
 *   ease: ANIMATION_EASES.SMOOTH
 * });
 */
export const animate{{ AnimationName }} = (
  element: HTMLElement | string | null,
  options: {{ AnimationName }}Options = {}
): ReturnType<typeof anime.animate> | null => {
  if (!element) return null;

  const {
    duration = ANIMATION_DURATIONS.NORMAL,
    delay = 0,
    ease = ANIMATION_EASES.DEFAULT,
  } = options;

  return anime.animate(element, {
    {{ from_props }},
    duration: toMilliseconds(duration),
    delay: toMilliseconds(delay),
    easing: convertEasing(ease),
  });
};
